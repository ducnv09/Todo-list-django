{% extends "base.html" %}
{% block title %}Xóa công việc{% endblock %}
{% block content %}
<div class="row justify-content-center align-items-center min-vh-50">
  <div class="col-md-6 col-lg-5">
    <div class="card shadow-lg border-0">
      <div class="card-body p-5">
        <div class="text-center mb-4">
          <i class="fas fa-exclamation-triangle fa-4x text-warning mb-3"></i>
          <h1 class="h3 mb-0 text-dark">Xác nhận xóa</h1>
          <p class="text-muted">Hành động này không thể hoàn tác</p>
        </div>

        <div class="alert alert-warning border-0" role="alert">
          <div class="d-flex align-items-center">
            <i class="fas fa-info-circle fa-lg me-3"></i>
            <div>
              <h6 class="alert-heading mb-1">Bạn có chắc chắn muốn xóa công việc này?</h6>
              <p class="mb-0">
                <strong>"{{ object.title }}"</strong>
                {% if object.note %}
                  <br><small class="text-muted">{{ object.note|truncatechars:100 }}</small>
                {% endif %}
              </p>
            </div>
          </div>
        </div>

        <div class="card bg-light border-0 mb-4">
          <div class="card-body">
            <h6 class="card-title">
              <i class="fas fa-info-circle me-2"></i>Thông tin công việc
            </h6>
            <div class="row">
              <div class="col-sm-6">
                <small class="text-muted">Trạng thái:</small>
                <div>
                  {% if object.is_done %}
                    <span class="badge bg-success">
                      <i class="fas fa-check me-1"></i>Đã hoàn thành
                    </span>
                  {% else %}
                    <span class="badge bg-warning text-dark">
                      <i class="fas fa-clock me-1"></i>Chưa hoàn thành
                    </span>
                  {% endif %}
                </div>
              </div>
              <div class="col-sm-6">
                <small class="text-muted">Ngày tạo:</small>
                <div>{{ object.created_at|date:"d/m/Y H:i" }}</div>
              </div>
            </div>
            {% if object.due_at %}
              <div class="mt-2">
                <small class="text-muted">Hạn hoàn thành:</small>
                <div>{{ object.due_at|date:"d/m/Y H:i" }}</div>
              </div>
            {% endif %}
          </div>
        </div>

        <form method="post">
          {% csrf_token %}
          <div class="d-grid gap-2 d-md-flex justify-content-md-center">
            <a class="btn btn-outline-secondary btn-lg me-md-2" href="{% url 'tasks:list' %}">
              <i class="fas fa-arrow-left me-2"></i>Hủy bỏ
            </a>
            <button type="submit" class="btn btn-danger btn-lg">
              <i class="fas fa-trash me-2"></i>Xóa vĩnh viễn
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  .min-vh-50 {
    min-height: 50vh;
  }

  .card {
    border-radius: 15px;
    transition: transform 0.2s ease-in-out;
  }

  .btn {
    border-radius: 10px;
    transition: all 0.3s ease;
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .btn-danger {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    border: none;
  }

  .btn-danger:hover {
    background: linear-gradient(135deg, #c82333 0%, #bd2130 100%);
  }

  .alert {
    border-radius: 12px;
  }

  .badge {
    border-radius: 20px;
  }
</style>
{% endblock %}
